{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
  #group {

    cursor: pointer;

  }
</style>

<h1 id="pk" style="display: none;">{{organizationpk}}</h1>

<div class="container my-10 mx-auto text-center w-10/12 sm:w-9/12 md:w-8/12 lg:w-1/2 xl:w-5/12">
  <a href="{% url "user:joinorganization" %}"
    class="block mx-auto w-4/5 py-10 my-5 text-4xl bg-pink-400 hover:bg-pink-500 rounded-xlg">
    <i class="fas fa-sign-in-alt"></i> 가입신청
  </a>
  <a href="{% url "organization:neworganization" %}"
    class="block mx-auto w-4/5 py-10 my-5 text-4xl bg-green-400 hover:bg-green-500 rounded-xlg">
    <i class="fas fa-user-plus"></i> 그룹생성
  </a>
  <div class="block mx-auto w-4/5 py-10 my-5 text-4xl bg-yellow-400 hover:bg-yellow-500 rounded-xlg" id="group">
    <i class="fas fa-users-cog"></i> 그룹관리
  </div>
  <a href="{% url "survey:list" %}"
    class="block mx-auto w-4/5 py-10 my-5 text-4xl bg-orange-400 hover:bg-orange-500 rounded-xlg">
    <i class="fas fa-search"></i> 설문보기
  </a>
</div>

<script>

  const group = document.getElementById("group");
  const pk = document.getElementById("pk").innerText;

  group.addEventListener("click", (ev) => {
    ev.preventDefault();
    if (pk != "None") {
      location.href = `http://127.0.0.1:8000/organization/update-organization/${pk}/`;
    } else {
      location.href = "http://127.0.0.1:8000/organization/new/";
    }
  })

</script>

{% endblock content %}